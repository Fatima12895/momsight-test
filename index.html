<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momsight | å¦³çš„è‚²å…’æ™‚å…‰å°èˆª</title>
    <!-- è¼‰å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght=300;400;700&display=swap" rel="stylesheet">
    <style>
        /* å®šç¾©æˆ‘å€‘è¨­è¨ˆçš„è«è˜­è¿ªæš–è‰²ç³» */
        :root {
            --color-warm-pink: #F8E1E1; /* èˆ’ç·©ç²‰ */
            --color-light-green: #E9EDC9; /* æ™¨æ›¦ç¶  */
            --color-calm-blue: #D8E2DC; /* æ²‰éœè— */
            --color-gold: #D4A373; /* æš–æ²™é‡‘ */
        }
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #fff9f6; /* è¼•æŸ”çš„ç±³ç™½è‰²åº• */
        }
        .text-accent { color: var(--color-gold); }
        .bg-accent { background-color: var(--color-gold); }
        .btn-primary {
            background-color: var(--color-light-green);
            color: #4a573b;
            transition: all 0.3s;
            box-shadow: 0 4px 6px -1px rgb(212, 163, 115, 0.3);
        }
        .btn-primary:hover {
            background-color: #ccd5ae;
            transform: translateY(-2px);
        }
        /* æ–°å¢ Reset æŒ‰éˆ•çš„æ¨£å¼ */
        .btn-secondary {
            background-color: #f3f4f6;
            color: #4b5563;
            transition: all 0.3s;
        }
        .btn-secondary:hover {
            background-color: #e5e7eb;
            transform: translateY(-2px);
        }
        .card-shadow { box-shadow: 0 10px 15px -3px rgba(248, 225, 225, 0.5), 0 4px 6px -2px rgba(248, 225, 225, 0.05); }
        .quiz-option {
            background-color: #fff;
            border: 2px solid var(--color-warm-pink);
            transition: all 0.2s;
        }
        .quiz-option:hover {
            background-color: var(--color-warm-pink);
            border-color: var(--color-gold);
            transform: scale(1.01);
        }
        /* æ‡¸æµ®çš„æ´‹æ´‹ App æŒ‰éˆ• */
        #yang-yang-fab {
            z-index: 50;
            background-color: #F8E1E1;
            box-shadow: 0 5px 15px rgba(212, 163, 115, 0.6);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        .loading-ring {
            border: 4px solid var(--color-gold);
            border-top-color: transparent;
            border-radius: 50%;
            width: 1.5rem;
            height: 1.5rem;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="flex flex-col items-center p-0">

    <!-- æ‡¸æµ®çš„ AI æ´‹æ´‹æŒ‰éˆ• (Fab) -->
    <a id="yang-yang-fab" href="#" class="fixed bottom-6 right-6 p-4 rounded-full flex items-center justify-center text-accent text-sm font-bold shadow-lg" onclick="showYangYangModal(event)">
        <span class="text-2xl mr-2">ğŸ§šâ€â™‚ï¸</span>
        æ´‹æ´‹
    </a>

    <!-- ä¸»å…§å®¹å®¹å™¨ -->
    <main id="app-container" class="w-full max-w-lg min-h-screen bg-white rounded-t-3xl shadow-2xl p-6 md:p-8">

        <!-- Header: æ¨™é¡Œèˆ‡ç°¡ä»‹ -->
        <header class="text-center my-6">
            <h1 class="text-4xl font-bold text-accent">Momsight</h1>
            <p class="text-gray-500 mt-2">å¦³çš„è‚²å…’æ™‚å…‰å°èˆªï¼Œçµåˆ MBTI èˆ‡éšæ®µåˆ†æ</p>
        </header>

        <!-- å€å¡Šåˆ‡æ›å®¹å™¨ -->
        <div id="content-area">

            <!-- 1. éšæ®µè¨­å®š (Stage Input) -->
            <section id="stage-input" class="animate-fade-in">
                <h2 class="text-xl font-semibold text-gray-700 mb-6 text-center">é–‹å§‹æ¢ç´¢ï¼šè¼¸å…¥é‡è¦æ—¥æœŸ</h2>
                
                <div class="bg-warm-pink/50 p-6 rounded-2xl mb-6 card-shadow">
                    <p class="text-sm text-gray-600 mb-3">è«‹å‘Šè¨´æˆ‘å€‘ï¼Œå¦³çš„é ç”¢æœŸæˆ–å¯¶å¯¶çš„ç”Ÿæ—¥æ˜¯ï¼Ÿ</p>
                    <input type="date" id="target-date" value="" class="w-full p-3 border-2 border-orange-200 rounded-lg focus:border-accent focus:outline-none">
                    <p id="date-error" class="text-xs text-red-600 mt-2 hidden">è«‹é¸æ“‡ä¸€å€‹æ—¥æœŸæ‰èƒ½é–‹å§‹æ¸¬é©—å–”ï¼</p>
                </div>

                <div class="space-y-4">
                    <button onclick="checkStageAndProceed()" class="w-full btn-primary py-4 rounded-2xl font-bold text-lg">
                        ç¢ºèªæ—¥æœŸä¸¦å•Ÿå‹•æ¸¬é©—
                    </button>
                </div>
            </section>

            <!-- 2. æ¸¬é©—å€ (Quiz) -->
            <section id="quiz-section" class="hidden animate-fade-in">
                <div class="mb-6 text-center">
                    <div class="h-1 w-full bg-gray-100 rounded-full">
                        <div id="quiz-progress" class="h-1 bg-accent rounded-full transition-all duration-500" style="width: 0%"></div>
                    </div>
                    <p class="text-sm text-gray-500 mt-2">å•é¡Œ <span id="current-question-index">1</span> / <span id="total-questions">12</span></p>
                </div>
                
                <div id="quiz-card" class="bg-white p-6 rounded-3xl card-shadow">
                    <h3 id="question-text" class="text-lg font-medium text-gray-800 mb-6 leading-relaxed"></h3>
                    <div id="quiz-options" class="space-y-4">
                        <!-- é¸é …æœƒé€é JS å¡«å…… -->
                    </div>
                </div>
                <!-- ä¿®æ­£: next-button å·²ç¶“åœ¨ JS ä¸­è™•ç†éš±è—/é¡¯ç¤ºï¼Œé€™è£¡ä¿æŒåŸæœ¬ç‹€æ…‹ -->
                <button id="next-button" onclick="nextQuestion()" class="w-full btn-primary py-3 rounded-2xl font-bold mt-6 hidden">ä¸‹ä¸€é¡Œ</button>
            </section>

            <!-- 3. çµæœé¡¯ç¤ºå€ (Result Dashboard) -->
            <section id="result-section" class="hidden animate-fade-in text-center">
                <div class="inline-block p-4 bg-warm-pink rounded-full mb-4">
                    <span class="text-4xl">ğŸ‘‘</span>
                </div>
                <h3 class="text-gray-500 text-sm tracking-widest uppercase mb-2">å¦³çš„åª½å’ªåŸå‹</h3>
                <h2 id="mom-type-title" class="text-3xl font-bold text-accent mb-4"></h2>
                
                <!-- éšæ®µç‹€æ…‹ -->
                <p id="stage-status" class="text-sm text-gray-600 mb-6 py-1 px-3 bg-calm-blue/30 inline-block rounded-full"></p>

                <!-- æ ¸å¿ƒæé†’å¡ç‰‡ -->
                <div class="bg-warm-pink p-6 rounded-2xl text-left mb-6 card-shadow">
                    <h4 class="text-lg font-semibold text-accent mb-3">çµ¦ [åª½å’ªé¡å‹] å¦³çš„è©±ï¼š</h4>
                    <p class="text-gray-700 leading-relaxed" id="mom-reminder"></p>
                </div>

                <!-- æ´‹æ´‹èˆ‡éšŠå‹è¡Œå‹•å€ -->
                <div class="space-y-6">
                    <!-- æ´‹æ´‹ç™‚ç™’è™•æ–¹ -->
                    <div class="bg-light-green p-4 rounded-xl text-left">
                        <p class="text-xs text-gray-600 font-bold mb-2">ğŸ§šâ€â™‚ï¸ æ´‹æ´‹çš„ç™‚ç™’è™•æ–¹</p>
                        <p class="text-gray-700 font-medium mb-3" id="240fciyl"></p>
                        <!-- #yangyang-link å·²ç¶“é€é JS ä¿®æ­£ç‚ºæŒ‡å‘ Line@ å¸³è™Ÿ -->
                        <a id="yangyang-link" href="#" target="_blank" class="inline-flex items-center text-sm font-bold text-accent hover:underline">
                            é»æ“Šé–‹å•Ÿæ´‹æ´‹ App é ˜å–è™•æ–¹ â†’
                        </a>
                    </div>
                    
                    <!-- éšŠå‹æ±‚æ•‘å¡ -->
                    <button onclick="showSosCard()" class="w-full btn-primary py-4 rounded-2xl font-bold shadow-lg">
                        å‚³é€ã€ŒéšŠå‹æ‡‰æ´æŒ‡ä»¤ã€çµ¦å…ˆç”Ÿ
                    </button>
                    
                    <!-- æ–°å¢ï¼šé‡æ–°æ¸¬è©¦æŒ‰éˆ• -->
                    <button onclick="resetTest()" class="w-full btn-secondary py-4 rounded-2xl font-bold mt-4 shadow-lg">
                        æˆ‘æƒ³å†æ¸¬ä¸€æ¬¡ï¼ (é‡æ–°æ¢ç´¢)
                    </button>
                </div>
            </section>

        </div>
    </main>

    <!-- Modal: æ´‹æ´‹ App ä¸‹è¼‰æé†’ -->
    <div id="yangyang-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-2xl p-6 w-full max-w-sm text-center">
            <div class="text-4xl mb-4">â˜€ï¸</div>
            <h3 class="text-xl font-bold text-accent mb-3">æ´‹æ´‹ - å¦³çš„å¿ƒç†å°ä¼´ä¾¶</h3>
            <p class="text-gray-600 mb-6">æ´‹æ´‹ App å°ˆç‚ºåª½å’ªè¨­è¨ˆï¼Œæä¾› 24/7 å‚¾è½æœå‹™ï¼Œçµ•ä¸è©•åˆ¤ã€‚ç•¶å£“åŠ›å¤§åˆ°ç„¡äººäº†è§£æ™‚ï¼Œè«‹éš¨æ™‚æ‰¾å¥¹ã€‚</p>
            <div class="space-y-3">
                <!-- ä¿®æ­£ iOS é€£çµ -->
                <a href="https://apps.apple.com/tw/app/herehear-3d%E8%99%9B%E6%93%AC%E7%99%82%E7%99%92%E5%B8%AB%E6%B4%8B%E6%B4%8B/id6472772767" target="_blank" class="w-full block py-3 bg-gray-800 text-white rounded-xl font-bold hover:bg-gray-700">App Store ä¸‹è¼‰ (iOS)</a>
                <!-- ä¿®æ­£ Android é€£çµ -->
                <a href="https://play.google.com/store/apps/details?id=com.BambooTechnology.HereHearaAndroid&hl=zh&pli=1" target="_blank" class="w-full block py-3 btn-primary rounded-xl font-bold">Google Play ä¸‹è¼‰ (Android)</a>
                <button onclick="closeYangYangModal()" class="w-full text-sm text-gray-500 mt-2 hover:underline">æš«æ™‚ä¸ç”¨ï¼Œè¬è¬</button>
            </div>
        </div>
    </div>

    <!-- Modal: éšŠå‹æ±‚æ•‘å¡ -->
    <div id="sos-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-2xl p-6 w-full max-w-sm text-center">
            <h3 class="text-xl font-bold text-accent mb-3">ğŸš¨ éšŠå‹æ‡‰æ´æŒ‡ä»¤</h3>
            <div id="sos-card-content" class="bg-warm-pink p-5 rounded-xl mb-4 text-left">
                <!-- å…§å®¹æœƒé€é JS å¡«å…… -->
            </div>
            <p class="text-xs text-gray-500 mb-4">ï¼ˆé•·æŒ‰å¡ç‰‡å…§å®¹è¤‡è£½æˆ–åˆ†äº«åˆ° Lineï¼‰</p>
            <button id="copy-sos-btn" class="w-full py-3 bg-accent text-white rounded-xl font-bold hover:bg-orange-600 mb-2">ä¸€éµè¤‡è£½æŒ‡ä»¤</button>
            <button onclick="closeSosModal()" class="w-full text-sm text-gray-500 mt-2 hover:underline">é—œé–‰</button>
        </div>
    </div>

    <script>
        // å…¨å±€ç‹€æ…‹ç®¡ç†
        let userMbti = '';
        let currentStage = {};
        let currentQuestion = 0;
        let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
        let currentQuiz = []; // ç”¨æ–¼å„²å­˜ç•¶å‰æ¸¬é©—çš„éš¨æ©Ÿé¡Œç›®é †åº (æ¯æ¬¡ 12 é¡Œ)

        // --- æ•¸æ“šçµæ§‹ï¼š16 å‹äººæ ¼ + éšæ®µæ–‡æ¡ˆ (ç°¡åŒ–ç‰ˆ) ---
        // ç”±æ–¼é¡Œç›®æ•¸é‡å¢åŠ ï¼Œæ­¤è™•æ–‡æ¡ˆå¯ç¶­æŒä¸è®Šï¼Œå°ˆæ³¨æ–¼è±å¯Œé¡Œç›®åº«
        const INFJ_BASE = {
            pre_1: { title: "éˆé­‚ç¯‰å¤¢å®¶", reminder: "æƒ…ç·’æ³¢å‹•æ˜¯æ­£å¸¸çš„ã€‚åˆ¥ç„¦æ…®ï¼Œå¦³çš„ç›´è¦ºæ­£åœ¨å¼•å°å¦³ã€‚", yangyang: "INFJ_BREATHING", sos: "æŠ±æŠ±å¥¹ 30 ç§’ï¼Œå®‰éœåœ°è½å¥¹èªªèªªä»Šå¤©çš„å¿ƒæƒ…ã€‚" },
            post_1: { title: "éˆé­‚å°èˆªå“¡åª½å’ª", reminder: "å¦³çš„æ•æ„Ÿæ˜¯å¤©è³¦ï¼Œä½†è«‹ä¸è¦éåº¦å¸æ”¶è² èƒ½é‡ï¼Œè¨˜å¾—å…ˆç…§é¡§å¥½è‡ªå·±ã€‚", yangyang: "INFJ_MEDITATION", sos: "è®“å¥¹å®‰éœç¨è™• 1 å°æ™‚ï¼Œä¸è¦æ‰“æ“¾å¥¹ï¼Œä¸¦å‘Šè¨´å¥¹å·²ç¶“åšå¾—å¾ˆå¥½ã€‚" }
        };
        const ISTJ_BASE = {
            pre_1: { title: "ç²¾å¯†æ•¸æ“šå®¶", reminder: "åœæ­¢æœå°‹ï¼éå¤šçš„ç¦å¿Œè³‡è¨Šåªæœƒå¢åŠ ç„¦æ…®ï¼Œä¿¡ä»»å¦³çš„èº«é«”ã€‚", yangyang: "ISTJ_LOGIC_RESET", sos: "æª¢æŸ¥å¾…è¾¦æ¸…å–®ï¼Œä¸¦ä¸»å‹•å®Œæˆæœ€é›£çš„ä¸€é …å®¶å‹™ã€‚" },
            post_1: { title: "ç²¾å¯†æ•¸æ“šåª½å’ª", reminder: "å¯¶å¯¶çš„ä½œæ¯è¡¨ä¸æ˜¯å¦³çš„ KPIã€‚æ”¾ä¸‹ä¸€ä»¶å®¶å‹™ï¼Œå…è¨±æ··äº‚çš„å­˜åœ¨ã€‚", yangyang: "ISTJ_DECOMPRESS", sos: "æ¥ç®¡æ‰€æœ‰å®¶å‹™ 2 å°æ™‚ï¼Œè®“å¥¹å¾¹åº•æ–·é›»ä¼‘æ¯ã€‚" }
        };
        const ENTP_BASE = {
            pre_1: { title: "å‰µæ„ç­–åŠƒå®¶", reminder: "é›–ç„¶ç¾åœ¨æ­¥èª¿æ…¢äº†ï¼Œä½†é€™æ˜¯å¦³è¨­è¨ˆå®Œç¾è‚²å…’æ³•å‰çš„æ€è€ƒæœŸï¼Œç›¡æƒ…ç™¼æ®å‰µæ„ã€‚", yangyang: "ENTP_BRAINSTORM", sos: "é™ªå¥¹çœ‹ä¸€é›†è·Ÿè‚²å…’å®Œå…¨ç„¡é—œçš„ç¡¬æ ¸ç§‘æŠ€æˆ–æ­·å²åŠ‡ã€‚" },
            post_1: { title: "æ‰“ç ´å¸¸è¦åª½å’ª", reminder: "å¦³çš„éˆæ´»æ˜¯æ‡‰å°å«©å¬°æœ€å¼·çš„æ­¦å™¨ã€‚èª°èªªä¸€å®šè¦æŒ‰ç…§å‚³çµ±æ–¹å¼åšï¼Ÿå¦³å¯ä»¥ç™¼æ˜è‡ªå·±çš„è‚²å…’æ³•ï¼", yangyang: "ENTP_GAMIFY_CLEANING", sos: "ä¸»å‹•å¸¶å¯¶å¯¶å‡ºé–€ 2 å°æ™‚ï¼Œè®“å¥¹ç¨è‡ªäº«å—ç¾é£Ÿã€‚" }
        };
        const ESFP_BASE = {
            pre_1: { title: "æ´»åœ¨ç•¶ä¸‹å®¶", reminder: "å­•åå¾ˆé›£å—ï¼Œä½†è«‹ç›¸ä¿¡å¾ˆå¿«å°±æœƒéå»ã€‚ç¾åœ¨èƒ½ä¼‘æ¯å°±ä¼‘æ¯ï¼Œä¸è¦æœ‰è² ç½ªæ„Ÿã€‚", yangyang: "ESFP_LIGHT_STRETCHING", sos: "ç‚ºå¥¹æº–å‚™ä¸€å€‹æ¼‚äº®çš„ä¸‹åˆèŒ¶é»å¿ƒï¼Œä¸¦æ’­æ”¾ç†±é¬§çš„éŸ³æ¨‚ã€‚" },
            post_1: { title: "æ´¾å°æ ¸å¿ƒåª½å’ª", reminder: "æœ€æ£’çš„æ´¾å°å°±åœ¨å¦³æ‡·è£¡ï¼Œå¦³æ˜¯å¯¶å¯¶å”¯ä¸€çš„è¶…ç´šå·¨æ˜Ÿã€‚äº«å—é€™ä¸€åˆ»èˆ‡ä»–çš„çœ¼ç¥å…±èˆã€‚", yangyang: "ESFP_ENERGIZE", sos: "ç‚ºå¥¹è¦åŠƒä¸€å€‹ 15 åˆ†é˜çš„çŸ­æš«ã€åˆºæ¿€çš„æˆ¶å¤–æ´»å‹•ã€‚" }
        };

        const momDatabase = {
            INFJ: INFJ_BASE, ISTJ: ISTJ_BASE, ENTP: ENTP_BASE, ESFP: ESFP_BASE,
            INFP:  { ...INFJ_BASE }, ENFJ:  { ...INFJ_BASE }, ENFP:  { ...INFJ_BASE },
            INTJ:  { ...ISTJ_BASE }, INTP:  { ...ISTJ_BASE }, ENTJ:  { ...ISTJ_BASE },
            ISFJ:  { ...ESFP_BASE }, ESTJ:  { ...ESFP_BASE }, ESTP:  { ...ESFP_BASE },
            ISFP:  { ...ENTP_BASE }, ISTP:  { ...ENTP_BASE },
        };
        
        // --- å¿ƒç†æ¸¬é©—é¡Œç›® (60é¡Œï¼Œæ¯æ¬¡éš¨æ©ŸæŠ½å– 12 é¡Œ) ---
        const originalQuizQuestions = [
            // E vs I (èƒ½é‡ä¾†æº)
            { Q: "1. ç…§é¡§å¯¶å¯¶ç²¾ç–²åŠ›ç›¡ï¼Œæƒ³æ‰¾å›é›»åŠ›æ™‚ï¼Œå¦³æœ€æƒ³åšï¼Ÿ", A: "ç¨è‡ªéœéœåœ°çœ‹ä¸€æœ¬æ›¸æˆ–æ»‘æ‰‹æ©Ÿã€‚", B: "æ‰¾å€‹æœ‹å‹æˆ–å®¶äººï¼Œç›¡æƒ…åœ°èŠèŠè‚²å…’çš„å´©æ½°æ™‚åˆ»ã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "2. å¦³åœ¨åª½åª½ç¤¾ç¾¤ä¸­çš„è§’è‰²é€šå¸¸æ˜¯ï¼Ÿ", A: "æ½›æ°´ç€è¦½ï¼Œé»˜é»˜å­¸ç¿’ï¼Œå¾ˆå°‘ä¸»å‹•ç™¼è¨€ã€‚", B: "ç©æ¥µåƒèˆ‡è¨è«–ï¼Œåˆ†äº«ç¶“é©—ï¼Œçµ„ç¹”åœ˜è³¼æˆ–èšæœƒã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "3. å¯¶å¯¶çš„å“­è²è®“å¦³å£“åŠ›å¾ˆå¤§ï¼Œå¦³æœƒå¦‚ä½•åæ‡‰ï¼Ÿ", A: "è¶•å¿«å¸¶ä»–åˆ°ä¸€å€‹å®‰éœçš„ç§äººç©ºé–“ï¼Œç›¡é‡ä¸å—å¤–ç•Œå¹²æ“¾ã€‚", B: "è¶•å¿«æ‰“é›»è©±çµ¦éšŠå‹æˆ–å®¶äººï¼Œè«‹ä»–å€‘å›ä¾†å¹«å¿™ï¼Œåˆ†æ•£å£“åŠ›ã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "4. é›£å¾—çš„å‘¨æœ«æ”¾é¢¨æ™‚é–“ï¼Œå¦³çš„ç†æƒ³è¡Œç¨‹æ˜¯ï¼Ÿ", A: "å¾…åœ¨å®¶ä¸­ï¼Œäº«å—ä¸€æ¯ç†±é£²å’Œç„¡äººæ‰“æ“¾çš„æ™‚å…‰ã€‚", B: "åƒåŠ ä¸€å€‹å¤§å‹è¦ªå­æ´»å‹•æˆ–å’Œä¸€å¤§ç¾¤æœ‹å‹èšé¤ã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "5. ç•¶å¦³éœ€è¦åšä¸€å€‹é‡å¤§è‚²å…’æ±ºå®šæ™‚ï¼Œæœƒï¼Ÿ", A: "å…ˆè‡ªå·±æ€è€ƒæ¶ˆåŒ–ï¼Œå¾—å‡ºçµè«–å¾Œå†å‘ŠçŸ¥åˆ¥äººã€‚", B: "æ‰¾å¹¾ä½ä¿¡ä»»çš„è¦ªå‹è¨è«–ï¼Œåœ¨äº¤æµä¸­ç†æ¸…æ€è·¯ã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "6. åƒåŠ å¯¶å¯¶çš„æŠ“é€±æˆ–æ…¶ç”Ÿæœƒï¼Œå¦³çš„æ„Ÿå—æ˜¯ï¼Ÿ", A: "é›–ç„¶é‡è¦ï¼Œä½†äººå¤šåµé¬§è®“æˆ‘æ„Ÿåˆ°ç–²æ†Šï¼Œåªæƒ³è¶•å¿«çµæŸã€‚", B: "äº«å—åœ¨äººç¾¤ä¸­çš„ç„¦é»ï¼Œç‚ºå¯¶å¯¶è¨­è¨ˆä¸€å ´ç†±é¬§çš„æ´»å‹•ã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "7. å¦³å‚¾å‘æ–¼å¦‚ä½•ç´€éŒ„å¯¶å¯¶çš„æˆé•·ï¼Ÿ", A: "ç”¨ç§äººæ—¥è¨˜æˆ–åªæœ‰è‡ªå·±èƒ½æŸ¥çœ‹çš„Appè©³ç´°ç´€éŒ„ã€‚", B: "ç©æ¥µåœ¨ç¤¾ç¾¤è»Ÿé«”ä¸Šåˆ†äº«ç…§ç‰‡å’Œæ–‡å­—ï¼Œç²å¾—å¤§å®¶çš„ç¥ç¦ã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "8. ç•¶å¯¶å¯¶é–‹å§‹æœƒç‰™ç‰™å­¸èªæ™‚ï¼Œå¦³æœƒï¼Ÿ", A: "éœéœåœ°è§€å¯Ÿä»–å¦‚ä½•å˜—è©¦ç™¼éŸ³å’Œè¡¨é”ã€‚", B: "ä¸æ–·å’Œä»–å°è©±ï¼Œå¼•å°ä»–èˆ‡å¤–ç•Œäº’å‹•ã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "9. ç”¢å¾Œæ†‚é¬±æˆ–æƒ…ç·’ä½è½æ™‚ï¼Œå¦³æœƒï¼Ÿ", A: "é—œé–‰æˆ¿é–€ï¼Œéœ€è¦ä¸€æ®µæ™‚é–“ç¨è‡ªä¿®å¾©ã€‚", B: "è¿«åˆ‡éœ€è¦æ‰¾äººå‚¾è¨´ï¼Œå³ä½¿æ˜¯é™Œç”Ÿäººä¹Ÿæ²’é—œä¿‚ã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "10. è™•ç†å©†åª³/è‚²å…’è§€å¿µè¡çªæ™‚ï¼Œå¦³æœƒï¼Ÿ", A: "ç›¡é‡é¿å…æ­£é¢è¡çªï¼Œç§ä¸‹æ¶ˆåŒ–æƒ…ç·’ã€‚", B: "æ‰¾å€‹æ©ŸæœƒæŠŠå¤§å®¶èšåœ¨ä¸€èµ·ï¼ŒæŠŠäº‹æƒ…æ”¤é–‹ä¾†èªªæ¸…æ¥šã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "11. è‚²å…’ç”¨å“è²·å¤ªå¤šï¼Œå®¶è£¡å¾ˆäº‚ï¼Œå¦³æœƒï¼Ÿ", A: "ç¨è‡ªä¸€äººé–‹å§‹é»˜é»˜æ•´ç†ï¼Œç›´åˆ°æ•´ç†å®Œç•¢ç‚ºæ­¢ã€‚", B: "æ‰¾éšŠå‹æˆ–å®¶äººä¾†å¹«å¿™ï¼Œé‚Šæ•´ç†é‚ŠæŠ±æ€¨ã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "12. å¦³å°ä¸Šåª½åª½æ•™å®¤æˆ–è‚²å…’èª²ç¨‹çš„æ…‹åº¦æ˜¯ï¼Ÿ", A: "åªé¸æ“‡ç·šä¸Šèª²ç¨‹ï¼Œå¯ä»¥éš¨æ™‚æš«åœå’Œé‡æ’­ã€‚", B: "å–œæ­¡å¯¦é«”èª²ç¨‹ï¼Œå¯ä»¥èªè­˜æ–°æœ‹å‹å’Œè€å¸«äº’å‹•ã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "13. å¯¶å¯¶ç¬¬ä¸€æ¬¡ç”Ÿç—…ï¼Œå¦³æœƒï¼Ÿ", A: "ä»”ç´°æŸ¥é–±æ‰€æœ‰å¯èƒ½çš„ç—‡ç‹€ï¼Œéœéœè§€å¯Ÿä»–çš„è®ŠåŒ–ã€‚", B: "ç«‹å³è©¢å•æ‰€æœ‰æœ‹å‹å’Œç¾¤çµ„ï¼Œå°‹æ±‚ç·Šæ€¥å»ºè­°ã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "14. å¦³èªç‚ºæœ€å®Œç¾çš„ç”¢å¾Œå‡æœŸæ˜¯ï¼Ÿ", A: "åœ¨å®¶è£¡ï¼Œå®Œå…¨å®‰éœï¼Œåªæœ‰å¯¶å¯¶å’Œå¦³ã€‚", B: "å’Œå®¶äººæœ‹å‹ä¸€èµ·åˆ°ä¸€å€‹åº¦å‡å‹åœ°ï¼Œäº«å—ç†±é¬§çš„æ°›åœã€‚", TypeA: 'I', TypeB: 'E' },
            { Q: "15. å¸¶å¯¶å¯¶å»é«”æª¢æ™‚ï¼Œå¦³æœƒï¼Ÿ", A: "å°ˆæ³¨æ–¼é†«ç”Ÿçš„æŒ‡ç¤ºå’Œå¯¶å¯¶çš„æª¢æŸ¥æ•¸æ“šã€‚", B: "å’Œå€™è¨ºå®¤çš„å…¶ä»–åª½åª½å€‘æ­è¨•èŠå¤©ï¼Œäº¤æµç¶“é©—ã€‚", TypeA: 'I', TypeB: 'E' },

            // S vs N (è¨Šæ¯æ¥æ”¶)
            { Q: "16. æº–å‚™å‰¯é£Ÿå“æ™‚ï¼Œå¦³æ›´é‡è¦–ï¼Ÿ", A: "é£Ÿè­œä¸Šçš„ä»½é‡ã€æ­¥é©Ÿå’Œçƒ¹é£ªæ™‚é–“å¿…é ˆç²¾ç¢ºç„¡èª¤ã€‚", B: "å˜—è©¦å°‡ä¸åŒé£Ÿç‰©çš„é¡è‰²ã€é¢¨å‘³åšå‰µæ„æ­é…å’Œå¯¦é©—ã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "17. å¯¶å¯¶çš„ä½œæ¯æ™‚é–“è¢«æ‰“äº‚ï¼Œå¦³çš„åæ‡‰æ˜¯ï¼Ÿ", A: "ç«‹å³åˆ†æå“ªå€‹ç’°ç¯€å‡ºäº†éŒ¯ï¼Œä¸¦å˜—è©¦å›åˆ°åŸå®šè¨ˆåŠƒã€‚", B: "é †å…¶è‡ªç„¶ï¼Œé€™å¯èƒ½æ˜¯å¯¶å¯¶åœ¨æš—ç¤ºæ–°çš„ç™¼å±•æˆ–éœ€æ±‚ã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "18. å¦³åœ¨é–±è®€è‚²å…’æ›¸ç±æ™‚ï¼Œæœ€æ„Ÿèˆˆè¶£çš„ç« ç¯€æ˜¯ï¼Ÿ", A: "å¯¦éš›æ“ä½œæŒ‡å—ã€å¬°å…’è­·ç†æ­¥é©Ÿå’Œå¸¸è¦‹ç–¾ç—…çš„è™•ç†ã€‚", B: "é—œæ–¼å¹¼å…’å¿ƒç†å­¸ã€å¤§è…¦ç™¼å±•å’Œå¦‚ä½•åŸ¹é¤Šå­©å­å‰µé€ åŠ›çš„ç†è«–ã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "19. å¦³å°å¬°å…’ç©å…·çš„é¸æ“‡å‚¾å‘æ˜¯ï¼Ÿ", A: "å°ˆæ³¨æ–¼å®‰å…¨ã€è€ç”¨ã€ç¬¦åˆæœˆé½¡ç™¼å±•é‡Œç¨‹ç¢‘çš„å…·é«”ç©å…·ã€‚", B: "é¸æ“‡é‚£äº›å¯ä»¥æ¿€ç™¼æƒ³åƒåŠ›ã€å¤šç”¨é€”ï¼Œæˆ–è€…å…·æœ‰æŠ½è±¡æ¦‚å¿µçš„ç©å…·ã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "20. å¦³æ›´å–œæ­¡è¨è«–è‚²å…’çš„å“ªç¨®è©±é¡Œï¼Ÿ", A: "å¯¦éš›æœ‰æ•ˆçš„ç¡çœ è¨“ç·´æ–¹æ³•å’Œé¤µé£ŸæŠ€å·§ã€‚", B: "å­©å­é•·å¤§å¾Œçš„æ€§æ ¼ç™¼å±•ã€æœªä¾†æ•™è‚²å’Œæ½›èƒ½ã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "21. æ‡·å­•æœŸé–“ï¼Œå¦³æœ€åœ¨æ„ä»€éº¼ï¼Ÿ", A: "èº«é«”ç™¼ç”Ÿçš„å…·é«”è®ŠåŒ–ï¼Œå¦‚é«”é‡å¢åŠ ã€èƒå‹•çš„é »ç‡å’Œä½ç½®ã€‚", B: "æƒ³åƒå¯¶å¯¶çš„å€‹æ€§ã€æœªä¾†çš„æ¨£å­ï¼Œä»¥åŠä¸€å®¶äººçš„ç”Ÿæ´»è—åœ–ã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "22. è½åˆ°ã€Œå¯¶å¯¶å¾ˆé›£å¸¶ã€é€™ç¨®è©±ï¼Œå¦³æœƒï¼Ÿ", A: "è¿½å•å…·é«”æ˜¯å“ªæ–¹é¢é›£å¸¶ï¼Ÿåƒé£¯ï¼Ÿç¡è¦ºï¼Ÿçµ¦å‡ºå…·é«”å»ºè­°ã€‚", B: "æ„Ÿå—è©±èªèƒŒå¾Œçš„ç„¦æ…®å’Œç„¡åŠ©ï¼Œçµ¦äºˆæƒ…æ„Ÿæ”¯æŒã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "23. å¦³å‚¾å‘ç”¨ä»€éº¼ä¾†å¼•å°å­©å­çš„è¡Œç‚ºï¼Ÿ", A: "å‘Šè¨´ä»–æ˜ç¢ºçš„è¦å‰‡ï¼šã€Œç¾åœ¨æŠŠç©å…·æ”¶å¥½ã€‚ã€", B: "å‘Šè¨´ä»–é€™æ¨£åšçš„å¾Œæœå’Œæ„ç¾©ï¼šã€Œå¦‚æœä½ æ”¶å¥½ç©å…·ï¼Œæˆ‘å€‘ç­‰ä¸‹æ‰æœ‰ç©ºé–“ç©éŠæˆ²ã€‚ã€", TypeA: 'S', TypeB: 'N' },
            { Q: "24. è²·è¡£æœæ™‚ï¼Œå¦³æ›´çœ‹é‡ï¼Ÿ", A: "æè³ªã€å°ºç¢¼æ˜¯å¦åˆé©ã€ç©¿è„«æ˜¯å¦æ–¹ä¾¿ç­‰å¯¦ç”¨ç´°ç¯€ã€‚", B: "è¡£æœçš„é¢¨æ ¼ã€è¨­è¨ˆã€æ˜¯å¦ç¬¦åˆè‡ªå·±çš„ç¾å­¸æ¨™æº–ã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "25. å¦³çš„å®¶è£¡æ“ºè¨­æ˜¯ï¼Ÿ", A: "ç°¡å–®ã€å¯¦ç”¨ã€æ‰€æœ‰æ±è¥¿éƒ½è§¸æ‰‹å¯åŠã€åŠŸèƒ½æ˜ç¢ºã€‚", B: "å……æ»¿å„ç¨®ç´€å¿µå“ã€è—è¡“å“ï¼Œé‡è¦–ç‡Ÿé€ æ°›åœã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "26. å¦³æ›´å–œæ­¡å“ªç¨®èƒæ•™æ–¹å¼ï¼Ÿ", A: "è½å¤å…¸éŸ³æ¨‚ï¼Œæˆ–å°è‘—è‚šå­å”¸æ•…äº‹æ›¸ï¼Œå…·é«”è²éŸ³åˆºæ¿€ã€‚", B: "å¹»æƒ³ä¸€å€‹ç¾éº—çš„å ´æ™¯ï¼Œå’Œè‚šå­è£¡çš„å¯¶å¯¶é€²è¡Œå¿ƒéˆäº¤æµã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "27. å­©å­é–‹å§‹å•ã€Œç‚ºä»€éº¼ã€æ™‚ï¼Œå¦³æœƒï¼Ÿ", A: "ç›¡é‡çµ¦å‡ºç°¡æ½”ã€æº–ç¢ºã€åŸºæ–¼äº‹å¯¦çš„ç­”æ¡ˆã€‚", B: "é¼“å‹µä»–ç¹¼çºŒç™¼å•ï¼Œä¸¦åå•ä»–ï¼šã€Œä½ è¦ºå¾—ç‚ºä»€éº¼å‘¢ï¼Ÿã€", TypeA: 'S', TypeB: 'N' },
            { Q: "28. å¦³å°æ–°æ‰‹çˆ¸åª½çš„å¿ å‘Šæœƒæ˜¯ï¼Ÿ", A: "æº–å‚™å¥½ä¸€å€‹å¯¦ç”¨æ¸…å–®ï¼Œå¾å¯¦éš›é¢æ¸›å°‘æ··äº‚ã€‚", B: "äº«å—æ¯ä¸€å€‹ä¸å¯é æœŸçš„ç¬é–“ï¼Œä¸è¦å¤ªåŸ·è‘—æ–¼è¨ˆç•«ã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "29. è™•ç†å¯¶å¯¶çš„å°¿å¸ƒç–¹ï¼Œå¦³æœƒï¼Ÿ", A: "åš´æ ¼æŒ‰ç…§é†«ç”Ÿæˆ–èªªæ˜æ›¸ä¸Šçš„æ­¥é©Ÿå¡—æŠ¹è—¥è†ã€‚", B: "è©¦è‘—æ€è€ƒæ˜¯ä¸æ˜¯é£²é£Ÿã€æè³ªæˆ–ç’°å¢ƒæ¿•åº¦çš„å•é¡Œï¼Œé€²è¡Œå…¨é¢èª¿æ•´ã€‚", TypeA: 'S', TypeB: 'N' },
            { Q: "30. å¦³æ›´å–œæ­¡å“ªç¨®è‚²å…’æ–¹å¼ï¼Ÿ", A: "è’™ç‰¹æ¢­åˆ©ï¼Œæœ‰æ˜ç¢ºçš„æ•™å…·å’Œæ­¥é©Ÿã€‚", B: "è¯å¾·ç¦ï¼Œé‡è¦–æƒ³åƒåŠ›å’Œè‡ªç„¶é«”é©—ã€‚", TypeA: 'S', TypeB: 'N' },

            // T vs F (åˆ¤æ–·æº–å‰‡)
            { Q: "31. å¦³å’ŒéšŠå‹è¨è«–è‚²å…’å•é¡Œæ™‚ï¼Œå¦³æœƒï¼Ÿ", A: "å°ˆæ³¨æ–¼æ‰¾å‡ºæœ€ä½³çš„è§£æ±ºæ–¹æ¡ˆï¼Œä¸¦åˆ†æå½¼æ­¤è§€é»çš„é‚è¼¯æ¼æ´ã€‚", B: "å°ˆæ³¨æ–¼ç¢ºä¿å°è©±æ˜¯å’Œè«§çš„ï¼Œä¸¦ç¢ºèªå½¼æ­¤çš„æƒ…ç·’æ„Ÿå—æ˜¯å¦è¢«ç…§é¡§åˆ°ã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "32. å¯¶å¯¶åœ¨å…¬å…±å ´åˆå¤§å“­ï¼Œå¦³æœƒè¦ºå¾—ï¼Ÿ", A: "å°·å°¬ï¼Œæˆ‘æ‡‰è©²è¦æƒ³æƒ³å¦‚ä½•æ§åˆ¶é€™ç¨®æƒ…æ³ã€‚", B: "æ›¿å¯¶å¯¶æ„Ÿåˆ°é›£éï¼Œä»–ä¸€å®šå¾ˆå§”å±ˆæˆ–ä¸èˆ’æœã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "33. å­©å­çŠ¯éŒ¯æ™‚ï¼Œå¦³æœƒå¦‚ä½•è™•ç†ï¼Ÿ", A: "è®“ä»–äº†è§£éŒ¯èª¤çš„é‚è¼¯å¾Œæœï¼Œä¸¦è¨è«–å¦‚ä½•é¿å…ä¸‹æ¬¡å†çŠ¯ã€‚", B: "å„ªå…ˆè™•ç†ä»–æ²®å–ªçš„æƒ…ç·’ï¼Œè®“ä»–çŸ¥é“ç„¡è«–å¦‚ä½•å¦³éƒ½æ„›ä»–ã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "34. éšŠå‹å¹«å€’å¿™ï¼Œè®“å¦³æ›´ç´¯æ™‚ï¼Œå¦³æœƒï¼Ÿ", A: "ç›´æ¥æŒ‡å‡ºå•é¡Œæ‰€åœ¨ï¼šã€Œä½ é€™æ¨£åšæ˜¯ç„¡æ•ˆçš„ï¼Œä¸‹æ¬¡è«‹ç”¨ X æ–¹æ³•ã€‚ã€", B: "å¿ä½ä¸èªªï¼Œé¿å…å‚·å®³ä»–çš„è‡ªå°Šå¿ƒï¼Œäº‹å¾Œè‡ªå·±é»˜é»˜ä¿®æ­£ã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "35. å¦³èªç‚ºä¸€å€‹å¥½çš„ã€Œåª½åª½ã€æœ€éœ€è¦çš„ç‰¹è³ªæ˜¯ï¼Ÿ", A: "å®¢è§€ã€ç†æ™ºã€èƒ½å¤ åˆ¶å®šæ¸…æ™°çš„è¦å‰‡å’Œç•Œç·šã€‚", B: "æº«æŸ”ã€æœ‰è€å¿ƒã€èƒ½å¤ æ„ŸåŒèº«å—ä¸¦çµ¦äºˆæƒ…æ„Ÿé€£çµã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "36. ç•¶å¦³æ„Ÿåˆ°å§”å±ˆæ™‚ï¼Œå¦³å¸Œæœ›éšŠå‹å¦‚ä½•å›æ‡‰ï¼Ÿ", A: "å¹«å¦³åˆ†æäº‹æƒ…ç™¼ç”Ÿçš„ä¾†é¾å»è„ˆï¼Œä¸¦çµ¦å‡ºå…¬å¹³çš„è©•æ–·ã€‚", B: "åªæ˜¯æŠ±è‘—å¦³ï¼Œä¸éœ€è¦èªªè©±ï¼Œè®“å¦³çŸ¥é“ä»–ç†è§£å¦³çš„æ„Ÿå—ã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "37. å¦³åœ¨ç¶²ä¸Šçœ‹åˆ°åš´å²çš„è‚²å…’è§€é»ï¼Œå¦³æœƒï¼Ÿ", A: "åˆ†æè©²è§€é»æ˜¯å¦åˆç†ã€æ˜¯å¦ç¬¦åˆç§‘å­¸è­‰æ“šã€‚", B: "ç«‹å³æ„Ÿåˆ°ä¸èˆ’æœï¼Œèªç‚ºè©²è§€é»ç¼ºä¹å°å­©å­çš„äººæ€§é—œæ‡·ã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "38. å¦³æ›´å–œæ­¡çœ‹å“ªç¨®è‚²å…’å…§å®¹ï¼Ÿ", A: "è…¦ç§‘å­¸ã€å…’ç«¥ç™¼å±•æ•¸æ“šã€é‚è¼¯æ•™é¤Šæ³•ã€‚", B: "å……æ»¿æº«æƒ…ã€è¦ªå­äº’å‹•æ•…äº‹ã€å¼·èª¿æ„›çš„é€£çµçš„æ–‡ç« ã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "39. å¦³èªç‚ºå®¶åº­æ°£æ°›æœ€é‡è¦çš„æŒ‡æ¨™æ˜¯ï¼Ÿ", A: "æ•ˆç‡é«˜ã€è¦å‰‡æ˜ç¢ºã€ç›®æ¨™æ¸…æ™°åœ°é‹ä½œã€‚", B: "æº«é¦¨ã€èæ´½ã€å¤§å®¶çš„æƒ…æ„Ÿéœ€æ±‚éƒ½å¾—åˆ°æ»¿è¶³ã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "40. å¦³æœƒç”¨ä»€éº¼æ¨™æº–ä¾†åˆ¤æ–·ä¸€å€‹ã€Œå¥½çˆ¸çˆ¸ã€ï¼Ÿ", A: "èƒ½æœ‰æ•ˆåˆ†æ“”å®¶å‹™å’Œè‚²å…’è²¬ä»»ï¼ŒåŸ·è¡ŒåŠ›å¼·ã€‚", B: "èƒ½å¤ æä¾›æº«æš–ã€å¹½é»˜ï¼Œçµ¦å­©å­å®‰å…¨æ„Ÿå’Œæƒ…æ„Ÿæ”¯æŒã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "41. å¯¶å¯¶å’Œåˆ¥çš„å°æœ‹å‹çˆ­ç©å…·ï¼Œå¦³æœƒï¼Ÿ", A: "ä»‹å…¥ä¸¦åˆ¶å®šä¸€å€‹è¼ªæµçš„å…¬å¹³è¦å‰‡ã€‚", B: "è®“ä»–å€‘è‡ªå·±è§£æ±ºï¼Œä½†ç¢ºä¿æ²’æœ‰äººæ„Ÿåˆ°è¢«æ’æ–¥æˆ–å—å‚·ã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "42. å¦³é¢å°è‡ªå·±çš„æƒ…ç·’æ™‚ï¼Œå‚¾å‘æ–¼ï¼Ÿ", A: "è©¦åœ–ç”¨é‚è¼¯åˆ†æä¾†æ§åˆ¶å’Œç†è§£æƒ…ç·’çš„èµ·å› ã€‚", B: "è®“æƒ…ç·’è‡ªç„¶æµå‹•ï¼Œé€éè¡¨é”æˆ–ç™¼æ´©ä¾†é‡‹æ”¾ã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "43. è¦åŠƒå­©å­çš„ç”Ÿæ—¥ç¦®ç‰©æ™‚ï¼Œå¦³æœƒï¼Ÿ", A: "é¸æ“‡æœ€é©åˆä»–å¹´é½¡ç™¼å±•ã€æœ‰æ•™è‚²æ„ç¾©çš„ç‰©å“ã€‚", B: "é¸æ“‡ä»–æœ€å–œæ­¡ã€èƒ½è®“ä»–æ„Ÿåˆ°å¿«æ¨‚å’Œé©šå–œçš„ç‰©å“ã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "44. éšŠå‹å› ç‚ºå·¥ä½œä¸Šçš„ä¸é †è€Œå‘å¦³æŠ±æ€¨ï¼Œå¦³æœƒï¼Ÿ", A: "è©¢å•ç´°ç¯€ï¼Œè©¦åœ–å¾ç­–ç•¥ä¸Šå¹«ä»–åˆ†æå‡ºè·¯ã€‚", B: "è¡¨é”å°ä»–çš„ç†è§£å’ŒåŒæƒ…ï¼Œè®“ä»–çŸ¥é“å¦³æœƒæ”¯æŒä»–ã€‚", TypeA: 'T', TypeB: 'F' },
            { Q: "45. å¦³çš„ç”¢å¾Œè³¼ç‰©æ¸…å–®æ˜¯ï¼Ÿ", A: "æ ¹æ“šå„ç¨®è©•æ¸¬è¡¨æ ¼å’Œæ•¸æ“šåˆ†æå‡ºä¾†çš„æœ€å„ªè§£æ¸…å–®ã€‚", B: "æ ¹æ“šèº«é‚Šåª½åª½æœ‹å‹çš„æ¨è–¦å’Œè‡ªå·±ç¬¬ä¸€çœ¼çš„æ„Ÿè¦ºã€‚", TypeA: 'T', TypeB: 'F' },

            // J vs P (ç”Ÿæ´»æ¨¡å¼)
            { Q: "46. å¦³çš„å†°ç®±è£¡ï¼Œé£Ÿç‰©çš„æ“ºæ”¾æ–¹å¼æ˜¯ï¼Ÿ", A: "æœ‰æ˜ç¢ºçš„åˆ†å€ï¼Œæœƒæ³¨æ„ä¿è³ªæœŸå’Œå…ˆé€²å…ˆå‡ºåŸå‰‡ã€‚", B: "éš¨æ„å †æ”¾ï¼Œè¦ç”¨æ™‚æ‰é–‹å§‹æ‰¾ã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "47. å¯¶å¯¶çš„æ´—æ¾¡æ™‚é–“ï¼Œå¦³æœƒï¼Ÿ", A: "æ¯å¤©å›ºå®šåœ¨æ™šä¸Šä¸ƒé»ï¼Œæ™‚é–“é•·åº¦ä¸è¶…é 20 åˆ†é˜ã€‚", B: "éš¨æ™‚å¯ä»¥æ´—ï¼Œçœ‹å¯¶å¯¶çš„å¿ƒæƒ…å’Œç•¶å¤©çš„è¡Œç¨‹æ±ºå®šã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "48. å¦³å°ã€Œå¾…è¾¦äº‹é …ã€æ¸…å–®çš„æ…‹åº¦æ˜¯ï¼Ÿ", A: "å¿…é ˆåˆ—å‡ºï¼Œä¸¦åš´æ ¼æŒ‰ç…§é †åºå’Œæ™‚é™å»å®Œæˆï¼Œå¦å‰‡æœƒç„¦æ…®ã€‚", B: "åªæ˜¯åˆ—å‡ºä¾†æé†’è‡ªå·±ï¼Œå¦‚æœæ²’å®Œæˆä¹Ÿä¸æœƒå¤ªåœ¨æ„ã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "49. é€±æœ«è‡¨æ™‚è¢«é‚€è«‹åƒåŠ æœ‹å‹çš„èšæœƒï¼Œå¦³æœƒï¼Ÿ", A: "å¿…é ˆå…ˆç¢ºèªé€™æ˜¯å¦ç¬¦åˆå¦³çš„å®¶åº­è¡Œäº‹æ›†å’Œå¯¶å¯¶çš„ä½œæ¯ã€‚", B: "æ¬£ç„¶æ¥å—ï¼Œä¸¦èªç‚ºé€™æ˜¯ä¸€å€‹æœ‰è¶£çš„è‡¨æ™‚è®Šå‹•ã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "50. å¦³ç‚ºå­©å­è¨­å®šçš„ã€Œå®¶è¦ã€æ˜¯ï¼Ÿ", A: "è¶Šæ—©è¨­ç«‹è¶Šå¥½ï¼Œå­©å­éœ€è¦æ˜ç¢ºçš„è¦ç¯„ã€‚", B: "éš¨è‘—å­©å­æˆé•·å’Œæƒ…æ³è®ŠåŒ–ï¼Œé€æ­¥å½ˆæ€§èª¿æ•´ã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "51. å¦³çš„è‚²å…’åŒ…ï¼ˆåª½åª½åŒ…ï¼‰å…§å®¹æ˜¯ï¼Ÿ", A: "æ°¸é äº•ç„¶æœ‰åºï¼Œæ¯ä»¶ç‰©å“éƒ½æœ‰å°ˆå±¬ä½ç½®ï¼Œç¢ºä¿è¬ç„¡ä¸€å¤±ã€‚", B: "å……æ»¿äº†å„ç¨®é›œç‰©ï¼Œæ¯æ¬¡æ‰¾æ±è¥¿éƒ½è¦ç¿»å¾ˆä¹…ï¼Œä½†ç¸½èƒ½æ‰¾åˆ°ã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "52. å¦³çš„ç†æƒ³ç”Ÿç”¢æ–¹å¼æ˜¯ï¼Ÿ", A: "äº‹å…ˆèˆ‡é†«ç”Ÿè¨è«–æ¯ä¸€å€‹ç’°ç¯€ï¼Œåˆ¶å®šè©³ç´°çš„ç”Ÿç”¢è¨ˆç•«ã€‚", B: "ç›¸ä¿¡å°ˆæ¥­ï¼Œè®“èº«é«”è‡ªç„¶åæ‡‰ï¼Œæ¥å—ä¸€åˆ‡å¯èƒ½ç™¼ç”Ÿçš„è®Šå‹•ã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "53. ç•¶å­©å­ä¸æŒ‰ç‰Œç†å‡ºç‰Œæ™‚ï¼Œå¦³æœƒï¼Ÿ", A: "è©¦åœ–å¼•å°ä»–å›åˆ°æ—¢å®šçš„æ­¥é©Ÿæˆ–è¦å‰‡ä¸Šã€‚", B: "è¦ºå¾—æœ‰è¶£ï¼Œè·Ÿè‘—ä»–çš„æ€è·¯ä¸€èµ·ç©ï¼Œæ¢ç´¢æ–°çš„å¯èƒ½ã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "54. å¦³æ›´å–œæ­¡å“ªç¨®æ—…è¡Œæ–¹å¼ï¼Ÿ", A: "è¡Œç¨‹è¡¨ç²¾ç¢ºåˆ°å°æ™‚ï¼Œæ‰€æœ‰æ©Ÿç¥¨ã€ä½å®¿éƒ½æå‰é è¨‚å¥½ã€‚", B: "èªªèµ°å°±èµ°ï¼Œé‚Šèµ°é‚Šè¨‚ï¼Œäº«å—æ—…é€”ä¸­çš„é©šå–œã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "55. å¦³çš„è¡£æ«ƒæ˜¯ï¼Ÿ", A: "é¡è‰²ã€æ¬¾å¼åˆ†é–€åˆ¥é¡ï¼Œæ•´é½ŠåŠƒä¸€ã€‚", B: "é›–ç„¶çœ‹èµ·ä¾†æœ‰é»äº‚ï¼Œä½†å¦³çŸ¥é“æ¯ä¸€ä»¶è¡£æœåœ¨å“ªè£¡ã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "56. å¦³å°éšŠå‹çš„æ‰¿è«¾å’Œç´„å®šæ˜¯ï¼Ÿ", A: "æ‰¿è«¾éçš„äº‹æƒ…å¿…é ˆåšåˆ°ï¼Œå¦å‰‡æœƒå½±éŸ¿å¦³çš„ä¿¡ä»»ã€‚", B: "é›–ç„¶å¸Œæœ›ä»–åšåˆ°ï¼Œä½†å¯ä»¥æ¥å—è‡¨æ™‚çš„è®Šæ›´æˆ–å»¶æœŸã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "57. å¯¶å¯¶ç”Ÿç—…æ™‚ï¼Œå¦³å¦‚ä½•è™•ç†è—¥ç‰©ï¼Ÿ", A: "åš´æ ¼è¨˜éŒ„æ¯ä¸€æ¬¡ç”¨è—¥çš„æ™‚é–“å’ŒåŠ‘é‡ï¼Œä¸å®¹æœ‰å¤±ã€‚", B: "å¤§è‡´è¨˜å¾—æ™‚é–“ï¼Œå¦‚æœå¿˜è¨˜äº†å°±ç•¥éä¸€æ¬¡ï¼Œä¸æœƒå¤ªç·Šå¼µã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "58. å¦³èªç‚ºã€Œæœ€å¥½çš„è‚²å…’å»ºè­°ã€æ˜¯ï¼Ÿ", A: "ä¸€å€‹çµæ§‹æ¸…æ™°ã€æ­¥é©Ÿæ˜ç¢ºçš„ç³»çµ±ã€‚", B: "é¼“å‹µå¦³ä¿æŒé–‹æ”¾æ…‹åº¦ã€éš¨æ™‚èª¿æ•´çš„æ–¹æ³•è«–ã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "59. å¦³å¦‚ä½•çœ‹å¾…å¯¶å¯¶çš„å‰¯é£Ÿå“é€²åº¦ï¼Ÿ", A: "å¿…é ˆæŒ‰ç…§æœˆé½¡è¡¨ä¸Šçš„é€²åº¦ï¼ŒæŒ‰æ™‚æ·»åŠ æ–°çš„é£Ÿç‰©ç¨®é¡ã€‚", B: "æ…¢ä¸€é»æ²’é—œä¿‚ï¼Œç­‰å¯¶å¯¶è¡¨ç¾å‡ºèˆˆè¶£å†èªªã€‚", TypeA: 'J', TypeB: 'P' },
            { Q: "60. å¦³èªç‚ºã€Œæœ€å¥½çš„åª½åª½ã€å½¢è±¡æ˜¯ï¼Ÿ", A: "æœ‰æ¢ä¸ç´Šã€èƒ½å°‡å®¶åº­ç”Ÿæ´»æ‰“ç†å¾—äº•äº•æœ‰æ¢ã€‚", B: "å……æ»¿æ´»åŠ›ã€èƒ½èˆ‡å­©å­ä¸€èµ·äº«å—ç•¶ä¸‹çš„æ¨‚è¶£ã€‚", TypeA: 'J', TypeB: 'P' },
        ];

        // --- éšæ®µå®šç¾© (7 éšæ®µ) ---
        const TIME_STAGES = {
            pre_1: { min: -280, max: -190, label: "æ‡·å­•åˆæœŸ (1-3å€‹æœˆ)", code: "pre_1" },
            pre_2: { min: -189, max: -90,  label: "æ‡·å­•ä¸­æœŸ (4-6å€‹æœˆ)", code: "pre_2" },
            pre_3: { min: -89,  max: -1,   label: "æ‡·å­•å¾ŒæœŸ (7-9å€‹æœˆ)", code: "pre_3" },
            post_1: { min: 0,    max: 90,   label: "ç”¢å¾Œä¸‰å€‹æœˆ (ç£¨åˆæœŸ)", code: "post_1" },
            post_2: { min: 91,   max: 180,  label: "ç”¢å¾Œå…­å€‹æœˆ (å‰¯é£Ÿå“)", code: "post_2" },
            post_3: { min: 181,  max: 270,  label: "ç”¢å¾Œä¹å€‹æœˆ (çˆ¬è¡ŒæœŸ)", code: "post_3" },
            post_4: { min: 271,  max: 365,  label: "ç”¢å¾Œä¸€å¹´ (é‡ç”ŸæœŸ)",   code: "post_4" }
        };
        
        // --- æ ¸å¿ƒé‚è¼¯å€å¡Š ---

        // éš¨æ©Ÿæ‰“äº‚é™£åˆ—é †åºçš„å·¥å…·å‡½æ•¸
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function toggleSection(sectionId) {
            document.querySelectorAll('#content-area section').forEach(sec => {
                sec.classList.add('hidden');
            });
            document.getElementById(sectionId).classList.remove('hidden');
        }

        // 1. éšæ®µæª¢æŸ¥èˆ‡è™•ç†
        function calculateMomsStage(targetDateStr) {
            const now = new Date();
            const target = new Date(targetDateStr);
            if (isNaN(target)) return null;

            // Date ç‰©ä»¶åœ¨ä¸åŒç’°å¢ƒä¸‹å¯èƒ½æœƒè§£ææˆ UTC æˆ–æœ¬åœ°æ™‚é–“ï¼Œå°è‡´å·®ä¸€å¤©ã€‚
            // ç‚ºç¢ºä¿è¨ˆç®—æº–ç¢ºï¼Œå°‡æ—¥æœŸè¨­ç‚ºç•¶å¤©åˆå¤œ UTC
            const targetUtc = new Date(target.getUTCFullYear(), target.getUTCMonth(), target.getUTCDate());
            const nowUtc = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate());
            
            const diffInTime = nowUtc.getTime() - targetUtc.getTime();
            const diffInDays = Math.floor(diffInTime / (1000 * 3600 * 24));


            for (const key in TIME_STAGES) {
                const stage = TIME_STAGES[key];
                if (diffInDays >= stage.min && diffInDays <= stage.max) {
                    return {
                        ...stage,
                        currentDay: diffInDays,
                        message: `ä»Šå¤©æ˜¯å¦³èˆ‡å¯¶å¯¶ç›¸é‡çš„ç¬¬ ${Math.abs(diffInDays)} å¤©`
                    };
                }
            }
            return { label: "è¶…èƒ½åª½å’ªæœŸ", code: "post_future", message: "å¦³å·²ç¶“æ˜¯ä¸€å€‹ç¶“é©—è±å¯Œçš„æˆ°å£«äº†ï¼" };
        }

        function checkStageAndProceed() {
            const dateInput = document.getElementById('target-date').value;
            const errorDiv = document.getElementById('date-error');

            console.log('--- Check Stage and Proceed ---'); // æµç¨‹è¨˜éŒ„
            console.log('Date Input Value:', dateInput); // æµç¨‹è¨˜éŒ„

            if (!dateInput) {
                errorDiv.classList.remove('hidden');
                errorDiv.innerText = 'è«‹é¸æ“‡ä¸€å€‹æ—¥æœŸæ‰èƒ½é–‹å§‹æ¸¬é©—å–”ï¼';
                console.error('ERROR: Date input is empty. Stopping.'); // æµç¨‹è¨˜éŒ„
                return;
            }
            
            errorDiv.classList.add('hidden');

            currentStage = calculateMomsStage(dateInput);
            
            if (currentStage && currentStage.code) {
                console.log('Calculated Stage:', currentStage); // æµç¨‹è¨˜éŒ„
                console.log('Date valid. Starting quiz...'); // æµç¨‹è¨˜éŒ„
                startQuiz();
            } else {
                // å¦‚æœæ—¥æœŸé¸æ“‡äº†ï¼Œä½† calculateMomsStage è¿”å› null (ä¾‹å¦‚ target=NaN)
                errorDiv.classList.remove('hidden');
                errorDiv.innerText = 'æ—¥æœŸç„¡æ•ˆï¼Œè«‹é¸æ“‡ä¸€å€‹åˆæ³•çš„æ—¥æœŸã€‚';
                console.error('ERROR: Could not calculate stage. Date might be invalid or calculation failed.');
            }
        }

        // 2. æ¸¬é©—é‚è¼¯
        function startQuiz() {
            console.log('Starting Quiz...'); // æµç¨‹è¨˜éŒ„
            toggleSection('quiz-section');
            console.log('Section toggled to quiz-section.'); // æµç¨‹è¨˜éŒ„
            currentQuestion = 0;
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            
            // 1. éš¨æ©Ÿæ‰“äº‚æ‰€æœ‰ 60 å€‹é¡Œç›®
            const shuffledAllQuestions = shuffleArray([...originalQuizQuestions]);
            
            // 2. é¸æ“‡å‰ 12 é¡Œä½œç‚ºæœ¬æ¬¡æ¸¬é©—çš„é¡Œç›® (è®“æ¯æ¬¡æ¸¬é©—éƒ½æœ‰æ–°é®®æ„Ÿ)
            currentQuiz = shuffledAllQuestions.slice(0, 12);

            document.getElementById('total-questions').innerText = currentQuiz.length; // é¡¯ç¤º 12

            renderQuestion();
        }

        function renderQuestion() {
            if (currentQuestion >= currentQuiz.length) {
                calculateMBTI();
                return;
            }

            // å¾éš¨æ©Ÿæ‰“äº‚å¾Œçš„ currentQuiz ä¸­å–å¾—é¡Œç›®
            const qData = currentQuiz[currentQuestion];
            document.getElementById('question-text').innerText = qData.Q;
            document.getElementById('current-question-index').innerText = currentQuestion + 1;
            
            // é€²åº¦æ¢é¡¯ç¤ºå·²å®Œæˆçš„å•é¡Œæ¯”ä¾‹
            document.getElementById('quiz-progress').style.width = `${((currentQuestion) / currentQuiz.length) * 100}%`; 

            const optionsDiv = document.getElementById('quiz-options');
            optionsDiv.innerHTML = '';

            // éš¨æ©Ÿæ’åˆ—é¸é …ï¼Œé˜²æ­¢ä½œç­”åè¦‹
            const options = [
                { text: qData.A, type: qData.TypeA },
                { text: qData.B, type: qData.TypeB }
            ].sort(() => Math.random() - 0.5);

            options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'quiz-option w-full p-4 rounded-xl text-gray-700 text-left font-medium';
                button.innerText = option.text;
                button.onclick = () => selectAnswer(option.type);
                optionsDiv.appendChild(button);
            });
        }

        function selectAnswer(type) {
            scores[type]++;
            currentQuestion++;
            renderQuestion();
        }

        function calculateMBTI() {
            // M1 (E/I): E vs I
            const M1 = scores.E > scores.I ? 'E' : 'I';
            // M2 (S/N): S vs N
            const M2 = scores.S > scores.N ? 'S' : 'N';
            // M3 (T/F): T vs F
            const M3 = scores.T > scores.F ? 'T' : 'F';
            // M4 (J/P): J vs P
            const M4 = scores.J > scores.P ? 'J' : 'P';

            userMbti = M1 + M2 + M3 + M4;
            renderResult();
        }

        // 3. çµæœæ¸²æŸ“
        function renderResult() {
            toggleSection('result-section');
            
            // ç¢ºä¿æœ‰æ‰¾åˆ°æ­£ç¢ºçš„æ•¸æ“šï¼Œå¦å‰‡ä½¿ç”¨ INFJ ä½œç‚º fallback
            const baseData = momDatabase[userMbti] || momDatabase.INFJ;
            const stageCode = currentStage.code in baseData ? currentStage.code : 'post_1'; 
            const userData = baseData[stageCode] || momDatabase.INFJ.post_1; // fallback to INFJ post_1 if missing
            const stageLabel = currentStage.label || TIME_STAGES.post_1.label;
            
            document.getElementById('mom-type-title').innerText = userData.title + ` (${userMbti})`;
            document.getElementById('stage-status').innerText = stageLabel;
            document.getElementById('mom-reminder').innerText = userData.reminder;
            
            // æ´‹æ´‹çš„æé†’æ–‡æ¡ˆ
            document.getElementById('yangyang-tip').innerText = `æ´‹æ´‹å·²ç¶“åœ¨æ‰‹æ©Ÿè£¡ç‚ºå¦³æº–å‚™äº†ã€${userData.yangyang}ã€çš„ç™‚ç™’è™•æ–¹ã€‚`;
            // é€£çµæŒ‡å‘ Line@ å¸³è™Ÿ
            document.getElementById('yangyang-link').href = `https://line.me/R/ti/p/@yangyangline`; 
            document.getElementById('yangyang-link').target = "_blank"; 

            // å°‡çµæœå„²å­˜åˆ°æœ¬åœ°ï¼Œæ¨¡æ“¬æŒä¹…åŒ–
            localStorage.setItem('momsight_mbti', userMbti);
            localStorage.setItem('momsight_birthday', document.getElementById('target-date').value);
        }

        // 4. æ–°å¢ï¼šé‡æ–°æ¸¬è©¦åŠŸèƒ½ (Reset)
        function resetTest() {
            // æ¸…é™¤æœ¬åœ°å„²å­˜çš„çµæœå’Œæ—¥æœŸ
            localStorage.removeItem('momsight_mbti');
            localStorage.removeItem('momsight_birthday');
            
            // æ¸…ç©ºæ—¥æœŸè¼¸å…¥æ¬„
            document.getElementById('target-date').value = '';
            
            // é‡è¨­å…¨å±€ç‹€æ…‹
            userMbti = '';
            currentStage = {};
            currentQuestion = 0;
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            currentQuiz = [];
            
            // å°å›èµ·å§‹é é¢
            toggleSection('stage-input');
            console.log('Test reset. Back to stage input.');
        }


        // --- å½ˆçª—é‚è¼¯ ---
        function showYangYangModal(e) {
            e.preventDefault();
            document.getElementById('yangyang-modal').classList.remove('hidden');
        }

        function closeYangYangModal() {
            document.getElementById('yangyang-modal').classList.add('hidden');
        }
        
        function showSosCard() {
            const baseData = momDatabase[userMbti] || momDatabase.INFJ;
            const stageCode = currentStage.code in baseData ? currentStage.code : 'post_1';
            const userData = baseData[stageCode] || momDatabase.INFJ.post_1;
            
            const sosCardHtml = `
                <p class="font-bold text-gray-800 mb-2">çµ¦éšŠå‹çš„æ±‚æ•‘æŒ‡ä»¤ï¼š</p>
                <p class="text-sm text-gray-700">ã€Œæˆ‘æ˜¯ ${userData.title} (${userMbti}) åª½å’ªï¼Œæˆ‘ç¾åœ¨çš„é›»é‡å·²ç¶“è€—ç›¡äº†ï¼Œæˆ‘æœ€éœ€è¦çš„æ”¯æ´æ˜¯ï¼š</p>
                <p class="text-lg font-bold text-accent mt-3">${userData.sos}</p>
                <p class="text-sm text-gray-700 mt-3">â€”â€” æ„›å¦³çš„è€å©†ã€</p>
            `;
            document.getElementById('sos-card-content').innerHTML = sosCardHtml;
            document.getElementById('sos-modal').classList.remove('hidden');
            
            // å°‡è¤‡è£½åŠŸèƒ½ç¶å®šåˆ°æŒ‰éˆ•ï¼Œä¸¦å‚³å…¥å®Œæ•´çš„æŒ‡ä»¤æ–‡æœ¬
            const fullSosText = `æˆ‘æ˜¯ ${userData.title} (${userMbti}) åª½å’ªï¼Œæˆ‘ç¾åœ¨çš„é›»é‡å·²ç¶“è€—ç›¡äº†ï¼Œæˆ‘æœ€éœ€è¦çš„æ”¯æ´æ˜¯ï¼š${userData.sos} â€”â€” æ„›å¦³çš„è€å©†`;
            document.getElementById('copy-sos-btn').onclick = () => copySosText(fullSosText);
        }

        function closeSosModal() {
            document.getElementById('sos-modal').classList.add('hidden');
        }

        // è¤‡è£½æ–‡æœ¬åˆ°å‰ªè²¼æ¿
        function copySosText(textToCopy) {
            // ä½¿ç”¨ document.execCommand('copy') ä½œç‚º fallbackï¼Œå› ç‚º navigator.clipboard åœ¨ iframe ä¸­å¯èƒ½å—é™
            const tempInput = document.createElement('textarea');
            tempInput.value = textToCopy;
            document.body.appendChild(tempInput);
            tempInput.select();
            
            try {
                const successful = document.execCommand('copy');
                const message = successful ? 'è¤‡è£½æˆåŠŸï¼è«‹å‚³çµ¦éšŠå‹ï¼' : 'è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ã€‚';
                // ç‚ºäº†é¿å…ä½¿ç”¨ alert()ï¼Œæˆ‘å€‘åœ¨é€™è£¡çŸ­æš«æ”¹è®ŠæŒ‰éˆ•ç‹€æ…‹ä¾†æç¤ºç”¨æˆ¶
                const copyBtn = document.getElementById('copy-sos-btn');
                const originalText = copyBtn.innerText;
                copyBtn.innerText = message;
                setTimeout(() => {
                    copyBtn.innerText = originalText;
                }, 2000);
            } catch (err) {
                console.error('Copy failed:', err);
            }
            document.body.removeChild(tempInput);
        }

        // --- åˆå§‹åŒ– ---
        document.addEventListener('DOMContentLoaded', () => {
            // å˜—è©¦å¾ LocalStorage æ¢å¾©ç”¨æˆ¶ç‹€æ…‹
            const storedMbti = localStorage.getItem('momsight_mbti');
            const storedBirthday = localStorage.getItem('momsight_birthday');
            
            if (storedMbti && storedBirthday) {
                document.getElementById('target-date').value = storedBirthday;
                userMbti = storedMbti;
                currentStage = calculateMomsStage(storedBirthday);
                renderResult();
            } else {
                toggleSection('stage-input');
            }
        });
    </script>
</body>
</html>

